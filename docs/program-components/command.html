<!DOCTYPE html>
<html lang="en">
<head>
    <base href="https://applepiecodes.github.io/Xenon-Website/docs/"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xenon Documentation: Documentation Template</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css"/>
</head>
<body>
    <script>
      function createTreeView(data, parentElement) {
        if (!data || !Array.isArray(data)) {
            console.warn('Invalid data structure. Expected an array.');
            return; // Exit if data is not an array
        }

        data.forEach(item => {
            const div = document.createElement('div');
            div.className = item.type;
            div.textContent = item.name;

            if (item.type === 'folder') {
                div.addEventListener('click', function() {
                    this.classList.toggle('expanded');
                });

                const childrenDiv = document.createElement('div');
                childrenDiv.className = 'children';
                createTreeView(item.children, childrenDiv); // Handle children of the folder
                div.appendChild(childrenDiv);
            } else {
                div.addEventListener('click', function() {
                    window.location.href = item.path; // Navigate to file
                });
            }

            parentElement.appendChild(div);
        });
    }

    // Load directory structure and generate tree view
    fetch('https://applepiecodes.github.io/Xenon-Website/docs/tree-view.json')
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            console.log('Fetched data:', data); // Log data to inspect its structure
            const treeView = document.getElementById('tree-view');
            if (data.docs) {
                createTreeView(data.docs, treeView); // Pass the array under the "docs" key
            } else {
                console.error('Data does not contain "docs" key');
            }
        })
        .catch(error => console.error('Error loading directory structure:', error));
    </script>
    <header role="banner">
        <div>Xenon Documentation</div>
        <nav role="navigation">
            <a href="https://applepiecodes.github.io/Xenon-Website/index.html#home">Home</a>
            <a href="index.html">Documentation</a>
            <a href="https://applepiecodes.github.io/Xenon-Website/downloads">Downloads</a>
        </nav>
    </header>
    <div id="tree-view"></div>
    <div id="content" style="margin-left: 270px; padding: 20px;">
        <h1>Commands</h1>
        <p>
            Here is an example of a Xenon Command<br><br>
            <code>IO.WriteLn("Hello World");</code><br><br>
            This command is broken down into the following tokens<br><br>
            <code>
                Identifier: IO.WriteLn<br>
                OpenParen<br>
                StringLiteral: Hello World<br>
                CloseParen<br>
                Semicolon<br>
            </code><br>
            During processing, the command name should be split into parts seperated by the '.' character.<br><br>
            <code>
                Identifier: {<br>
                    IO,<br>
                    WriteLn<br>
                }<br>
            </code><br>
            Lets put this into an example. Here is our example file named <em>Hello.xe</em><br><br>
            <code>
                link Core.IO;<br>

                class Program {<br>
                    int main() {<br>
                        IO.WriteLn("Hello World!");<br>
                    }<br>
                }<br>
            </code><br>
            Here we Link the IO Class under the Core namespace. by default, all commands from the class must be prepended with the Class name. You can change the name to be prepended by switching the link statement with the following<br><br>
            <code>
                link Core.IO as InOut;<br>

                class Program {<br>
                    int main() {<br>
                        IO.WriteLn("Hello World!");<br>
                    }<br>
                }<br>
            </code><br>
            Now to run the WriteLn command, you type...<br><br>
            <code>InOut.WriteLn("Hello World");</code><br><br>
            This allows you to link classes that have long names under much shorter ones, or to use 2 classes that have the same name.<br><br>
            You can pass multiple arguements to a command between the parantheses, each one is followed by a comma.<br><br>
            For example, Here is the definition for a function that runs FizzBuzz<br><br>
            <code>
                void fizzbuzz(int j) {<br>
                    for (int i = 0; i < j; i++) {<br>
                        if ((i % 3 == 0) && (i % 5 == 0)) {<br>
                            IO.WriteLn("FizzBuzz");<br>
                        }<br>
                        else if (i % 3 == 0) {<br>
                            IO.WriteLn("Fizz");<br>
                        }<br>
                        else if (i % 5 == 0) {<br>
                            IO.WriteLn("Buzz");<br>
                        }<br>
                        else {<br>
                            IO.WriteLn("Buzz");<br>
                        }<br>
                    }<br>
                }<br>
            </code><br>
            to run this function, you must pass an integer literal, expression, or variable that equates to, can be implicitly casted to or is explicitly casted to an integer. In the end, the value passed is an integer.<br><br>
            Here is an example of a function with multiple arguements<br><br>
            <code>
                int exponent(int n, int e) {<br>
                    int rn;<br>
                    for (int i = 0; i < e; i++) {<br>
                        rn = rn * n;<br>
                    }<br>
                    return rn;<br>
                }<br>
            </code><br>
            this command returns n<sup>e</sup>. to run this command, you would type<br><br>
            <code>exponent(8, 2);</code><br><br>
            this example would return 64.
        </p>
    </div>
</body>
</html>
